This repository contain code for a simulation that simulates the operations within a Railyard.

Introduction:
In North America roughly 100,000 freight cars are loaded, the average freight train carrying 65 cars with only 37 being loaded [1]. These trains travel at an average speed of 22.4 mph when considering terminal operations and delays [1]. This speed being so low compared to the faster speed of road-based shipping [2]. As such development of models to improve the efficiency of rail-based delivery and transportation is of great importance. 
Research done by [2] has determined that a great deal of waiting time for railcars occurs in shunting yards. As such research into optimizing shunting yards is the best avenue for which to increase the efficiency of rail-based delivery systems. 
This study focuses on the development of a simulation to allow for better understanding of the shunting yard and to allow for testing of new ideas and structures to increase efficiency. 
Initial Literature Review:
Identification of the components and overall structure of a shunting yard is needed to allow for the accurate construction of the simulation. Information about the structure was from work done by John H. Armstrong [1], with more simplified models of railyards being taken from numerous studies [2], [3], [4] which research solutions to optimize railyard operations.
The basic structure of railyard can be divided into three main sections, the receiving yard, the classification yard, and the departure yard [3]. The receiving yard takes inbound trains from the main line, the trains then wait to be sorted into classification tracks. The classification yard is where railcars are divided into classification tracks, each track corresponding to a destination or other factor that rails cars sorted onto that track have. The departure yard is sometimes combined with the classification yard, it is where classified ‘cuts’ (sections of railcars that have been sorted) are connected to an engine and rejoin the main track [3]. 
Several other minor sections are present, those being tracks towards other sub-yards which do the same operations as an individual railyard they are used to balance the load of incoming trains among several smaller yard, and repair yards where railcars are taken off the track to be repaired as needed [1]. The tracks to other sub-yards are typically arranged such that they block standard operations in the sub-yard until complete, should this ‘blocking’ occur at a bad time it can greatly decrease the efficiency of the railyard. While the time spent on ‘blocking’ operations is notable, it is not the main time sink in railyards [4]. 
The main time sink is the classification yard, it is regarded as a bottleneck [4] with research into making shunting yards more efficient being focused on making classification more efficient. Several factors make this difficult including the number of classification tracks available, the length of the classification tracks, blocking operations, incomplete-cuts, misclassified railcars, and maintenance being some of the major factors that need to be considered. 
Previous research has focused on algorithms to find solutions and best practices for classification. The issue of classifying trains can is called the “Train Makeup Problem” or “Train-to-Yard Assignment Problem”, the problem concerns how trains should cut from inbound tracks and pushed to classification tracks [2]. The focus is on maximizing the value of cars that are classified and minimizing the cost of costly blocking actions. Previous research approaches this problem by assigning a value to each railcar using some criteria such as due date [3], priority [2], and flow cost [4]. Each railcar in the inbound yard has a value associated with it, by choosing the railcars that get classified based on criteria the value of cars classified can be maximized.
The issue is that not just any railcar in the inbound yard can be classified. Railcars in the inbound yard are in a line, even if a railcar with an incredibly high value is present if it is behind several other railcars then it can’t be accessed. This complicates making the most optimal classification choices, as occasionally several un-optimal railcars must be classified before an optimal railcar can be classified. 
Several approaches have been made to deal with this issue, Otto and Pesch use a Heuristic Greedy algorithm that chooses the best local option [4]. Jaehn et al. use a Branch and Bound algorithm which suffers from high performance costs as the number of inbound and classification tracks increases [3]. Boysen et al. use a Dynamic Programming approach that uses recursion to find the ideal choice, like the method used by it suffers from long processing times [2]. Notable is that the usage of Beam Search (BS) had in the worst case a 31 second processing time several factors lower than other methods [3], as such usage of a BS algorithm for finding the optimal solution is something to be considered for on-site simulation.
Boysen et al. developed three basic approaches to classifying inbound, TMP-Split, TMP-Full, and TMP-Last railcars (TMP referring to “Train Makeup Problem”). 
•	TMP-Split: An approach that has only a specific section of railcars to be classified, with other railcars having to wait until the next section is chosen.
•	TMP-Full: An approach that only allows full trains to be classified, that the entire set of railcars from an inbound train are sorted together.
•	TMP-Last: An approach where only full trains are to be classified, with the exception of the last train which can be cut as needed to satisfy the constraints of the classification yard. 
This approach to identifying the general strategies for approaching classification is something that previous studies didn’t consider, more focus being on a TMP-Split policy with railcars being treated as individual units rather than as being associated with an inbound train. Boysen et al. limit their testing to a Dynamic Programming approach, while other studies limit themselves to what could be considered a TMP-Split policy using Greedy [4] and Bound Branch [3] approaches. This simulation and research aims to branch the gap in research of different programming paradigms and classification approaches. By using the classification approaches defined by Boysen et al. and combining them with programming paradigms used in other studies this study will allow for a better overview of how solutions to railyard inefficiency compare to one another. 
The goal of this simulation is to compare the performance of Dynamic Programming and Greedy algorithms for classifying railcars. Efforts to implement a Branch-and-Bound algorithm have proven infeasible due to time constraints. The current implementation functions for Greedy TMP-Split simulations with further functionalities to be developed.
Citations:
1.	J. H. Armstrong, The Railroad What It is, What It Does, 4th ed. Omaha, NE: Simmons-Boardman Books, Inc., 1998
2.	Boysen, N., Emde, S. & Fliedner, M. The basic train makeup problem in shunting yards. OR Spectrum 38, 207–233 (2016). https://doi.org/10.1007/s00291-015-0412-0
3.	Jaehn, F., Rieder, J. & Wiehl, A. Minimizing delays in a shunting yard. OR Spectrum 37, 407–429 (2015). https://doi.org/10.1007/s00291-015-0391-1
4.	Otto, A., Pesch, E. The train-to-yard assignment problem. OR Spectrum 41, 549–580 (2019). https://doi.org/10.1007/s00291-019-00547-y

 
